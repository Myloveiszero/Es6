<script>
    function sleep() {
        let pre = Date.now()
        while (Date.now() - pre < 2000) {}
    }

    function sleep2(time) {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve()
            },time)
        })
    }
    console.log(1);
    sleep(3000);
    console.log(2);
    (async () => {
        await sleep2(3000);
        console.log(3)
    })()

    function* foo() {
        const a = yield sleep2(1000)
        console.log(a)
        const b = yield sleep2(2000)
        console.log(b)
    }
</script>